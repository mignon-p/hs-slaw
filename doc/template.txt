Files named foo.hs-template are preprocessed into files named foo.hs
by the Perl script scripts/preprocess-template.pl

The custom Setup.hs should cause this to happen automatically.

In a template file, the "--FOR" and "--END" directives can be used to
loop over a set of types.  The available sets of types are:

  sizedInt  - Int8, Int16, Int32, Int64, Word8, Word16, Word32, Word64
  nativeInt - Int, Word
  floating  - Half, Float, Double
  vectors   - V2 V3 V4

More than one set can be specified in a "--FOR" directive, separated
by commas.  It is also possible to specify individual type names in
the comma separated list, in addition to type sets.

"--FOR" directives do not nest, so one "--FOR" loop can be ended
by starting another "--FOR" loop.  Or, a "--FOR" loop can be
ended without starting another loop, with the "--END" directive.

The following strings will be replaced in the body of the "--FOR":

  TYPE     - the name of the type
  LTYPE    - same as TYPE, but all lowercase
  TYPEXX   - same as TYPE, but padded with spaces to be 6 characters long
  NAME     - same as TYPE, but "Word" is replaced with "Unt"
  NAMEXX   - same as NAME, but padded with spaces to be 6 characters long
  VTYPE    - Vt2/Vt3/Vt4 for V2/V3/V4, respectively (only for vectors)
  UNIQ     - a unique four-digit number (it will be the same number no
             matter how many times UNIQ is used in a single iteration
             of a FOR loop, but it will be different than other
             iterations of that FOR loop, and different than iterations
             of any other FOR loop)
  BAR      - replaced with "   " on the first iteration of the loop, and
             replaced with " | " on subsequent iterations of the loop
  COMMA    - replaced with "     " on the first iteration of the loop, and
             replaced with ",    " on subsequent iterations of the loop
  BITS     - size of the type in bits, or "undefined"
  SIGNED   - "Signed", "Unsigned", or "Float"
  LSIGNED  - same as SIGNED, but all lowercase
  SIGNEDXX - same as SIGNED, but padded with spaces to 8 characters

The script emits {-# LINE #-} directives so that compile errors are
reported on the correct line of the original .hs-template file,
however the script does not emit {-# COLUMN #-} directives, so the
compiler may highlight an incorrect portion of the original source
line.

The variables TYPEXX, NAMEXX, SIGNEDXX, UNIQ, BAR, and COMMA all
expand to a string which is the same length as the variable name, so
these will help keep the column numbers in sync.
